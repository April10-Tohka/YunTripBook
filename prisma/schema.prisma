generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model user {
  user_id              String    @id @default(dbgenerated("(uuid())")) @db.Char(36)
  user_name            String?   @default("尊敬的会员") @db.VarChar(50)
  phone                String?   @unique(map: "user_unique_key_phone") @db.Char(11)
  password_hash        String?   @db.Char(60)
  create_at            DateTime? @default(dbgenerated("(now())")) @db.Timestamp(0)
  gender               String?   @db.Char(2)
  birthdate            DateTime? @db.Date
  email                String?   @db.VarChar(17)
  failed_login_attempt Int?
  last_Login           DateTime? @db.Timestamp(0)
  registration_ip      String?   @db.VarChar(15)
  avatar_url           String?   @default("https://dimg04.c-ctrip.com/images/0AS1k120009l60yh36D69.jpg") @db.VarChar(100)
  update_at            DateTime? @db.Timestamp(0)
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model passenger {
  passenger_id             Int?
  passenger_name           String? @db.VarChar(20)
  passenger_phone          String? @db.Char(11)
  passenger_id_card_number String? @db.Char(18)

  @@ignore
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model flight {
  flight_no             String    @db.VarChar(8)
  aircraft_type         String?   @db.Char(3)
  depart_time           DateTime? @db.Time(0)
  arrive_time           DateTime? @db.Time(0)
  depart_city_code      String    @db.Char(3)
  depart_port_name      String?   @db.VarChar(10)
  depart_port_code      String?   @db.Char(3)
  depart_terminal       String?   @db.Char(2)
  arrive_city_code      String    @db.Char(3)
  arrive_port_name      String?   @db.VarChar(10)
  arrive_port_code      String?   @db.Char(3)
  arrive_terminal       String?   @db.Char(2)
  depart_date           DateTime? @db.Date
  on_time_rate          String?   @db.VarChar(4)
  price                 Float?    @db.Float
  airline_company_name  String?   @db.VarChar(10)
  airline_code          String?   @db.Char(2)
  current_week_schedule Json?
  stop_city_name        String?   @db.VarChar(10)
  week_schedule_str     String    @db.VarChar(255)

  @@id([flight_no, week_schedule_str, arrive_city_code, depart_city_code])

}
